import { getValueFromContext } from './get-value-from-context.js';
const VALID_COMPONENTS = ['parameters', 'failureActions', 'successActions'];
export function resolveReusableObjectReference(reusableObject, ctx) {
    const { reference, value: valueOverride } = reusableObject;
    if (!VALID_COMPONENTS.some((component) => reference.includes(`$components.${component}`))) {
        throw new Error('Invalid reference: available components are $components.parameters, $components.failureActions, or $components.successActions');
    }
    const component = getValueFromContext({ value: reference, ctx, logger: ctx.options.logger });
    if ('value' in component && valueOverride) {
        return {
            ...component,
            value: valueOverride,
        };
    }
    return component;
}
//# sourceMappingURL=resolve-reusable-object-reference.js.map