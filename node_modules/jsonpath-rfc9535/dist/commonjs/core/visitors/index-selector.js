"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = visitIndexSelector;
const path_ts_1 = require("../path.js");
function getArrayIndex(index, length) {
    return index < 0 ? length + index : index;
}
function visitIndexSelector(ctx, item, node) {
    const index = getArrayIndex(node.value, item.value.length);
    if (index >= 0 && index < item.value.length) {
        ctx.stack.push({
            root: item.root,
            path: (0, path_ts_1.joinPathWithKey)(item.path, index),
            value: item.value[index],
            index: item.index + 1,
        });
    }
}
//# sourceMappingURL=index-selector.js.map