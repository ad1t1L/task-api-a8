"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = evalTestExpr;
const assertions_ts_1 = require("../../utils/assertions.js");
const filter_query_ts_1 = __importDefault(require("./filter-query.js"));
const function_expr_ts_1 = __importDefault(require("./function-expr.js"));
function evalTestExpr(ctx, item, node) {
    switch (node.expression.type) {
        case "FilterQuery":
            return (0, filter_query_ts_1.default)(ctx, item, node.expression).length > 0;
        case "FunctionExpr":
            return (0, function_expr_ts_1.default)(ctx, item, node.expression) === true;
        default:
            (0, assertions_ts_1.assertDefinedNodeType)(node.expression);
    }
}
//# sourceMappingURL=test-expr.js.map