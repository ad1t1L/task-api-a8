"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = default_1;
const assertions_ts_1 = require("../assertions.js");
function compareString(a, b, op) {
    if (typeof a !== "string" || typeof b !== "string") {
        return false;
    }
    switch (op) {
        case "==":
            return a === b;
        case "<": {
            let index = 0;
            while (a.length > index && b.length > index) {
                const leftCode = a.charCodeAt(index);
                const rightCode = b.charCodeAt(index);
                if (leftCode === rightCode) {
                    index++;
                    continue;
                }
                return a.charCodeAt(index) < b.charCodeAt(index);
            }
            return a.length < b.length;
        }
        default:
            (0, assertions_ts_1.assertDefinedComparisonOp)(op);
    }
}
function default_1(a, b, op) {
    switch (op) {
        case "==":
        case "<":
            return compareString(a, b, op);
        case "!=":
            return !compareString(a, b, "==");
        case "<=":
            return compareString(a, b, "<") || compareString(a, b, "==");
        case ">":
            return compareString(b, a, "<");
        case ">=":
            return compareString(b, a, "<") || compareString(a, b, "==");
        default:
            (0, assertions_ts_1.assertDefinedComparisonOp)(op);
    }
}
//# sourceMappingURL=string.js.map